!function(){window.JSON&&JSON.stringify||(window.JSON=new H);var c={data:"https://cdp-statistic.weimobdc.com/wm.gif"},n="hsmob.com",s={nameBridge:"https://wmcp.hsmob.com/w.htm",messageBridge:"https://wmcp.hsmob.com/m.htm"},i="wmcp",t="hmsr",o=i+"_uid",a=i+"_local",r="__"+i,u="1.0.0",d=i+"_store",m="wmcp_auk",p={monitorId:"mid",sessionId:"sid",userId:"uid",channelId:"cid",pixelType:"pt",visitCount:"vc",pageCode:"pc",eventType:"et",eventValue:"ev",version:"v",platformKey:"k",clientInfo:"ci",visitTimeInterval:"vt",currentLocation:"l",weimobPid:"pid",summaryProps:"sp",deviceType:"dt"},f={userKey:"ukey",userKeyType:"ukeytype",associatedUserKey:"aukey",associatedUserKeyType:"aukeytype",channelId:"schanneltype",channelEntry:"channeltype",originDataJson:"datajson",dataType:"datatype",commonField:"StatType",updateTime:"updatetime"},l={},h,y={_setMonitor:function(t){window[r].id=t},_setPopStateMode:function(t){this.info.popStateMode=null==t||t},_trackPageView:function(n,o){"function"==typeof n&&(o=n,n=null);var i,a=this.localInfo,r=c.data,s=this;l[s.id]=0,O(function(t){var e=(h=t).localInfo[s.id];e&&e.timeStamp&&(a.timeStamp&&e.timeStamp>a.timeStamp||!a.timeStamp)&&(s.localInfo=a=e),N.call(s,n),i=j.apply(s),a.timeStamp=(new Date).getTime(),R.apply(s),h.localInfo[s.id]=a,k(h),i.push([p.eventType,"pv"]),w(I(r,S.call(s,i)),o),l[s.id]=1})},_setPageCode:function(t){this.info.pageCode=t||""},_setAuKey:function(t,e){this.info.auKeyInfo={auKeyType:t,auKey:e}},_setSummaryProps:function(t){this.info.summaryProps=t},_trackEvent:function(t,e,n){if("string"==typeof t||"number"==typeof t)if("function"==typeof e&&(n=e,e=""),l[this.id]){var o,i=c.data;o=j.apply(this),this.info.summaryProps&&(o.push([p.summaryProps,this.info.summaryProps]),delete this.info.summaryProps),o.push([p.eventType,t]),o.push([p.eventValue,e]),w(I(i,S.call(this,o)),n)}else{var a=arguments.callee,r=this;setTimeout(function(){a.call(r,t,e,n)},0)}}},e;function v(){for(var t in window[r].monitor){var e=window[r].monitor[t];e.info.popStateMode&&e.push(["_trackPageView"])}}function g(){var t=document.location.href;setInterval(function(){t!==document.location.href&&(t=document.location.href,v())},13)}function w(t,e){var n,o=new Image,i="wmsdk_log_"+Math.floor(2147483648*Math.random()).toString(36);(window[i]=o).onload=o.onerror=o.onabort=function(){clearTimeout(n),o.onload=o.onerror=o.onabort=null,o=window[i]=null,e&&e(t)},n=setTimeout(function(){o.onload()},3e3),o.src=t}function I(t,e){return-1<t.indexOf("?")?t+"&"+e:t+"?"+e}function S(t){var e=[];(t=t.concat()).push([p.version,u]),t.push([p.currentLocation,document.location.href]),(t=b.call(this,t)).push(["_",(Math.random()+"").substr(2)]);for(var n=0;n<t.length;n++){var o=t[n],i=o[1];null!=i&&""!==i&&("object"==typeof i&&(i=JSON.stringify(i)),e.push(o[0]+"="+encodeURIComponent(i)))}return e.join("&")}function T(t){for(var e={},n=0;n<t.length;n++)e[t[n][0]]=t[n][1];return e}function b(t){var e=T(t),n=[];n.push([f.commonField,"cdp"]),n.push([f.userKey,e[p.userId]]),n.push([f.userKeyType,"cookieid"]);var o=K();return!this.info.auKeyInfo&&o&&(this.info.auKeyInfo={auKeyType:o.type,auKey:o.key}),this!==window&&this.info&&this.info.auKeyInfo&&(n.push([f.associatedUserKeyType,this.info.auKeyInfo.auKeyType]),n.push([f.associatedUserKey,this.info.auKeyInfo.auKey])),n.push([f.channelEntry,"portal"]),this.localInfo.channel&&n.push([f.channelId,"portal."+this.localInfo.channel]),n.push([f.originDataJson,e]),n.push([f.dataType,"3"]),n.push([f.updateTime,(new Date).getTime()]),n}function _(t){var e=new RegExp("[?&]"+t+"=([^&#]*)"),n=document.location.href.match(e);return null==n?"":decodeURIComponent(n[1])}function C(){return _(t)}function K(){var t,e=_(m);try{t=JSON.parse(e)}catch(t){}return t}function N(t){var e=this.localInfo,n=0,o=(new Date).getTime();!e.timeStamp||18e5<o-e.timeStamp||o-e.timeStamp<0?n=1:new Date(o).getDate()!==new Date(e.timeStamp).getDate()?n=1:t&&document.referrer&&!document.referrer.match(new RegExp("^https*\\://"+document.location.hostname,"i"))&&(n=1),n||!e.sessionId?(e.sessionId=q(),e.visitCount=1,e.channel=C(),e.visitTimeInterval=0):(e.visitCount++,e.visitTimeInterval=Math.ceil((o-e.visitTime)/1e3)),e.visitTime=o}function O(e){var n={};function o(t){var e={};try{e=JSON.parse(t)}catch(t){}return e}function i(t){return t.uid&&t.localInfo||(t={localInfo:{}}),t.uid=x(t.uid),t}W(),Y({command:"get",name:d},function(t){t.value&&(n=o(t.value)),e&&e(i(n))})}function k(t,e){W()===n?(F(d,JSON.stringify(t)),e&&e()):Y({command:"set",name:d,value:JSON.stringify(t)},function(t){e&&e()})}function J(){return G(o)||D(o)}function x(t){var e=t||J();return e||(e=q()),M(o,e),F(o,e),e}function M(t,e){"object"==typeof e&&(e=JSON.stringify(e)),window.localStorage&&localStorage.setItem&&localStorage.setItem(t,e)}function A(t,e){"object"==typeof e&&(e=JSON.stringify(e)),window.sessionStorage&&sessionStorage.setItem&&sessionStorage.setItem(t,e)}function D(t){return window.localStorage&&localStorage.getItem?localStorage.getItem(t):""}function E(t){return window.sessionStorage&&sessionStorage.getItem?sessionStorage.getItem(t):""}function j(){var t=this.info,e=this.localInfo,n=[],o=x();return n.push([p.monitorId,this.id]),n.push([p.weimobPid,B(this.id)]),n.push([p.sessionId,e.sessionId]),n.push([p.userId,o]),n.push([p.channelId,e.channel]),n.push([p.pixelType,"h5"]),n.push([p.deviceType,P()]),n.push([p.visitCount,e.visitCount]),n.push([p.pageCode,t.pageCode]),n.push([p.platformKey,i]),n.push([p.visitTimeInterval,e.visitTimeInterval]),n}function P(){var t=navigator.userAgent.toLowerCase(),e="ipad"==t.match(/ipad/i),n="iphone os"==t.match(/iphone os/i),o="midp"==t.match(/midp/i),i="rv:1.2.3.4"==t.match(/rv:1.2.3.4/i),a="ucweb"==t.match(/ucweb/i),r="android"==t.match(/android/i),s="windows ce"==t.match(/windows ce/i),c="windows mobile"==t.match(/windows mobile/i);return e||n||o||i||a||r||s||c?"m":"p"}function B(t){return(t||"").split("_")[0]}function U(){var t=a+"_"+this.id,e=G(t)||D(t);if(e)try{this.localInfo=JSON.parse(e)}catch(t){}}function L(){var t=G(sessionName+"_"+this.id)||E(sessionName+"_"+this.id);try{this.sessionInfo=JSON.parse(t)}catch(t){}}function R(){M(a+"_"+this.id,this.localInfo),F(a+"_"+this.id,JSON.stringify(this.localInfo),10512e3)}function V(){A(sessionName+"_"+this.id,this.sessionInfo),document.cookie=sessionName+"_"+this.id+"="+encodeURIComponent(JSON.stringify(this.sessionInfo))+"; path=/;"}function W(){if(W.rootDomain)return W.rootDomain;var t=document.domain,e=t.split(".");e.reverse();for(var n=0,o="",i="";n<e.length;n++)try{return o=e[n],i=i?o+"."+i:o,document.domain=i,document.domain=t,i}catch(t){}return W.rootDomain=t}function F(t,e,n,o){n=n||15768e3;var i=new Date;if(0==n)var a=new Date(o);else a=new Date(i.getTime()+6e4*n);document.cookie=t+"="+encodeURIComponent(e)+"; domain="+W()+"; path=/;"+(void 0===n?"":"expires="+a.toGMTString()+";")}function G(t){for(var e=document.cookie.split("; "),n=0;n<e.length;n++)if(0==e[n].indexOf(t+"="))return decodeURIComponent(e[n].replace(t+"=",""));return""}function q(){return z("weapp-"+(new Date).getTime()+"-"+function(){for(var t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",e=t.length,n="",o=0;o<12;o++)n+=t.charAt(Math.floor(Math.random()*e));return n}()+"-"+document.location+"-"+navigator.userAgent)}function z(t){var i=0,a=8;function e(t){return r(n(o(t),t.length*a))}function n(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var n=1732584193,o=-271733879,i=-1732584194,a=271733878,r=0;r<t.length;r+=16){var s=n,c=o,u=i,d=a;o=l(o=l(o=l(o=l(o=f(o=f(o=f(o=f(o=p(o=p(o=p(o=p(o=m(o=m(o=m(o=m(o,i=m(i,a=m(a,n=m(n,o,i,a,t[r+0],7,-680876936),o,i,t[r+1],12,-389564586),n,o,t[r+2],17,606105819),a,n,t[r+3],22,-1044525330),i=m(i,a=m(a,n=m(n,o,i,a,t[r+4],7,-176418897),o,i,t[r+5],12,1200080426),n,o,t[r+6],17,-1473231341),a,n,t[r+7],22,-45705983),i=m(i,a=m(a,n=m(n,o,i,a,t[r+8],7,1770035416),o,i,t[r+9],12,-1958414417),n,o,t[r+10],17,-42063),a,n,t[r+11],22,-1990404162),i=m(i,a=m(a,n=m(n,o,i,a,t[r+12],7,1804603682),o,i,t[r+13],12,-40341101),n,o,t[r+14],17,-1502002290),a,n,t[r+15],22,1236535329),i=p(i,a=p(a,n=p(n,o,i,a,t[r+1],5,-165796510),o,i,t[r+6],9,-1069501632),n,o,t[r+11],14,643717713),a,n,t[r+0],20,-373897302),i=p(i,a=p(a,n=p(n,o,i,a,t[r+5],5,-701558691),o,i,t[r+10],9,38016083),n,o,t[r+15],14,-660478335),a,n,t[r+4],20,-405537848),i=p(i,a=p(a,n=p(n,o,i,a,t[r+9],5,568446438),o,i,t[r+14],9,-1019803690),n,o,t[r+3],14,-187363961),a,n,t[r+8],20,1163531501),i=p(i,a=p(a,n=p(n,o,i,a,t[r+13],5,-1444681467),o,i,t[r+2],9,-51403784),n,o,t[r+7],14,1735328473),a,n,t[r+12],20,-1926607734),i=f(i,a=f(a,n=f(n,o,i,a,t[r+5],4,-378558),o,i,t[r+8],11,-2022574463),n,o,t[r+11],16,1839030562),a,n,t[r+14],23,-35309556),i=f(i,a=f(a,n=f(n,o,i,a,t[r+1],4,-1530992060),o,i,t[r+4],11,1272893353),n,o,t[r+7],16,-155497632),a,n,t[r+10],23,-1094730640),i=f(i,a=f(a,n=f(n,o,i,a,t[r+13],4,681279174),o,i,t[r+0],11,-358537222),n,o,t[r+3],16,-722521979),a,n,t[r+6],23,76029189),i=f(i,a=f(a,n=f(n,o,i,a,t[r+9],4,-640364487),o,i,t[r+12],11,-421815835),n,o,t[r+15],16,530742520),a,n,t[r+2],23,-995338651),i=l(i,a=l(a,n=l(n,o,i,a,t[r+0],6,-198630844),o,i,t[r+7],10,1126891415),n,o,t[r+14],15,-1416354905),a,n,t[r+5],21,-57434055),i=l(i,a=l(a,n=l(n,o,i,a,t[r+12],6,1700485571),o,i,t[r+3],10,-1894986606),n,o,t[r+10],15,-1051523),a,n,t[r+1],21,-2054922799),i=l(i,a=l(a,n=l(n,o,i,a,t[r+8],6,1873313359),o,i,t[r+15],10,-30611744),n,o,t[r+6],15,-1560198380),a,n,t[r+13],21,1309151649),i=l(i,a=l(a,n=l(n,o,i,a,t[r+4],6,-145523070),o,i,t[r+11],10,-1120210379),n,o,t[r+2],15,718787259),a,n,t[r+9],21,-343485551),n=h(n,s),o=h(o,c),i=h(i,u),a=h(a,d)}return Array(n,o,i,a)}function s(t,e,n,o,i,a){return h(function(t,e){return t<<e|t>>>32-e}(h(h(e,t),h(o,a)),i),n)}function m(t,e,n,o,i,a,r){return s(e&n|~e&o,t,e,i,a,r)}function p(t,e,n,o,i,a,r){return s(e&o|n&~o,t,e,i,a,r)}function f(t,e,n,o,i,a,r){return s(e^n^o,t,e,i,a,r)}function l(t,e,n,o,i,a,r){return s(n^(e|~o),t,e,i,a,r)}function h(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function o(t){for(var e=Array(),n=(1<<a)-1,o=0;o<t.length*a;o+=a)e[o>>5]|=(t.charCodeAt(o/a)&n)<<o%32;return e}function r(t){for(var e=i?"0123456789ABCDEF":"0123456789abcdef",n="",o=0;o<4*t.length;o++)n+=e.charAt(t[o>>2]>>o%4*8+4&15)+e.charAt(t[o>>2]>>o%4*8&15);return n}return e(t)}function H(){var r=this;r.stringify=function(t){switch(typeof t){case"string":return'"'+t.replace(/(["\\])/g,"\\$1").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")+'"';case"boolean":return t?"true":"false";case"array":return"["+t.map(r.stringify).join(",")+"]";case"object":if(null==t)return"null";if("[object Array]"===Object.prototype.toString.call(t)){for(var e=[],n=t.length,o=0;o<n;o++)e.push(r.stringify(t[o]));return"["+e.join(",")+"]"}var i=[];for(var a in t)i.push(r.stringify(a)+":"+r.stringify(t[a]));return"{"+i.join(",")+"}";case"number":case!1:return t}},r.parse=function(t){return eval("("+t+")")}}function Q(){var i,a=document.createElement("iframe"),r=1;a.style.cssText="width:0px;height:0px;margin:0px;position:absolute;left:-9999px;top:-9999px;display:none",a.setAttribute("frameborder","0",0),a.setAttribute("scrolling","no"),a.onload=function(){r=1;var t={};try{t=JSON.parse(a.contentWindow.name)}catch(t){}var e=i;i=null,e&&e(t)},document.body.appendChild(a);try{a.contentWindow.document}catch(t){setTimeout(function(){document.domain=document.domain,a.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close()})())"},50)}this.sendCommand=function(t,e){var n=Math.random(),o=arguments.callee;r?(r=0,t.token=n,i=e,a.contentWindow.name=JSON.stringify(t),a.contentWindow.location.replace(s.nameBridge)):setTimeout(function(){o(t,e)},50)}}function X(){var a=document.createElement("iframe"),r=0;a.src=s.messageBridge,a.style.cssText="width:0px;height:0px;margin:0px;position:absolute;left:-9999px;top:-9999px;display:none",a.setAttribute("frameborder","0",0),a.setAttribute("scrolling","no"),a.onload=function(){r=1},document.body.appendChild(a),this.sendCommand=function(t,n){var o=Math.random(),e=arguments.callee;function i(t){if(t.data){var e=t.data;try{e=JSON.parse(e)}catch(t){}e&&e.token&&e.token===o&&(i=null,window.removeEventListener&&window.removeEventListener("message",i),window.detachEvent&&window.detachEvent("onmessage",i),r=1,n&&n(t.data))}}r?(r=0,t.token=o,window.addEventListener?window.addEventListener("message",i):window.attachEvent("onmessage",i),a.contentWindow.postMessage(JSON.stringify(t),"*")):setTimeout(function(){e(t,n)},50)}}function Y(t,e){Y.storeBridge||(window.postMessage&&!navigator.userAgent.match(/MSIE [5-8]/i)?Y.storeBridge=new X:Y.storeBridge=new Q),Y.storeBridge.sendCommand(t,e)}e=window[r]||[],"[object Array]"===Object.prototype.toString.call(e)&&(window[r]={monitor:{},push:function(){for(var e=window[r],t=0;t<arguments.length;t++){var n=arguments[t];if("_setMonitor"===n[0]&&n[1]){var o=n[1].toString();e.id=o,e.monitor[o]||(e.monitor[o]={id:o,info:{popStateMode:!0},localInfo:{},push:function(t){var e=y[t[0]];e&&e.apply(this,t.slice(1))}},U.apply(e.monitor[o]),function(t){setTimeout(function(){e.monitor[t].push(["_trackPageView",1])},0)}(o))}var i=e.monitor[e.id];i&&i.push(n)}}},window[r].push.apply(window[r],e),g())}();