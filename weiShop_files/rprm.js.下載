!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Raven=e()}}(function(){return function a(i,s,c){function u(r,e){if(!s[r]){if(!i[r]){var t="function"==typeof require&&require;if(!e&&t)return t(r,!0);if(p)return p(r,!0);var n=new Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n}var o=s[r]={exports:{}};i[r][0].call(o.exports,function(e){var t=i[r][1][e];return u(t||e)},o,o.exports,a,i,s,c)}return s[r].exports}for(var p="function"==typeof require&&require,e=0;e<c.length;e++)u(c[e]);return u}({1:[function(e,t,r){function n(e){this.name="RavenConfigError",this.message=e}(n.prototype=new Error).constructor=n,t.exports=n},{}],2:[function(e,t,r){var c=e(5);t.exports={wrapMethod:function(e,n,o){var a=e[n],i=e;if(n in e){var s="warn"===n?"warning":n;e[n]=function(){var e=[].slice.call(arguments),t=c.safeJoin(e," "),r={level:s,logger:"console",extra:{arguments:e}};"assert"===n?!1===e[0]&&(t="Assertion failed: "+(c.safeJoin(e.slice(1)," ")||"console.assert"),r.extra.arguments=e.slice(1),o&&o(t,r)):o&&o(t,r),a&&Function.prototype.apply.call(a,i,e)}}}}},{5:5}],3:[function(X,J,e){(function(e){function o(){return+new Date}function r(t,r){return g(r)?function(e){return r(e,t)}:r}function t(){for(var e in this.a=!("object"!=typeof JSON||!JSON.stringify),this.b=!m(z),this.c=!m(B),this.d=null,this.e=null,this.f=null,this.g=null,this.h=null,this.i=null,this.j={},this.k={release:F.SENTRY_RELEASE&&F.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,captureUnhandledRejections:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1,sanitizeKeys:[]},this.l={method:"POST",keepalive:!0,referrerPolicy:_()?"origin":""},this.m=0,this.n=!1,this.o=Error.stackTraceLimit,this.p=F.console||{},this.q={},this.r=[],this.s=o(),this.t=[],this.u=[],this.v=null,this.w=F.location,this.x=this.w&&this.w.href,this.y(),this.p)this.q[e]=this.p[e]}var c=X(6),s=X(7),a=X(8),u=X(1),n=X(5),i=n.isErrorEvent,p=n.isDOMError,l=n.isDOMException,f=n.isError,d=n.isObject,h=n.isPlainObject,m=n.isUndefined,g=n.isFunction,v=n.isString,y=n.isArray,b=n.isEmptyObject,w=n.each,x=n.objectMerge,k=n.truncate,E=n.objectFrozen,j=n.hasKey,O=n.joinRegExp,S=n.urlencode,T=n.uuid4,R=n.htmlTreeAsString,I=n.isSameException,C=n.isSameStacktrace,A=n.parseUrl,q=n.fill,M=n.supportsFetch,_=n.supportsReferrerPolicy,D=n.serializeKeysForMessage,P=n.serializeException,L=n.sanitize,N=X(2).wrapMethod,U="source protocol user pass host port path".split(" "),H=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/,F="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},z=F.document,B=F.navigator;(t.prototype={VERSION:"3.26.4",debug:!1,TraceKit:c,config:function(e,t){var r=this;if(r.g)return this.z("error","Error: Raven has already been configured"),r;if(!e)return r;var n=r.k;t&&w(t,function(e,t){"tags"===e||"extra"===e||"user"===e?r.j[e]=t:n[e]=t}),r.setDSN(e),n.ignoreErrors.push(/^Script error\.?$/),n.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),n.ignoreErrors=O(n.ignoreErrors),n.ignoreUrls=!!n.ignoreUrls.length&&O(n.ignoreUrls),n.whitelistUrls=!!n.whitelistUrls.length&&O(n.whitelistUrls),n.includePaths=O(n.includePaths),n.maxBreadcrumbs=Math.max(0,Math.min(n.maxBreadcrumbs||100,100));var o={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},a=n.autoBreadcrumbs;"[object Object]"==={}.toString.call(a)?a=x(o,a):!1!==a&&(a=o),n.autoBreadcrumbs=a;var i={tryCatch:!0},s=n.instrument;return"[object Object]"==={}.toString.call(s)?s=x(i,s):!1!==s&&(s=i),n.instrument=s,c.collectWindowErrors=!!n.collectWindowErrors,r},install:function(){var e=this;return e.isSetup()&&!e.n&&(c.report.subscribe(function(){e.A.apply(e,arguments)}),e.k.captureUnhandledRejections&&e.B(),e.C(),e.k.instrument&&e.k.instrument.tryCatch&&e.D(),e.k.autoBreadcrumbs&&e.E(),e.F(),e.n=!0),Error.stackTraceLimit=e.k.stackTraceLimit,this},setDSN:function(e){var t=this,r=t.G(e),n=r.path.lastIndexOf("/"),o=r.path.substr(1,n);t.H=e,t.h=r.user,t.I=r.pass&&r.pass.substr(1),t.i=r.path.substr(n+1),t.g=t.J(r),t.K=t.g+"/"+o+"api/"+t.i+"/store/",this.y()},context:function(e,t,r){return g(e)&&(r=t||[],t=e,e={}),this.wrap(e,t).apply(this,r)},wrap:function(n,o,a){function e(){var e=[],t=arguments.length,r=!n||n&&!1!==n.deep;for(a&&g(a)&&a.apply(this,arguments);t--;)e[t]=r?i.wrap(n,arguments[t]):arguments[t];try{return o.apply(this,e)}catch(e){throw i.L(),i.captureException(e,n),e}}var i=this;if(m(o)&&!g(n))return n;if(g(n)&&(o=n,n=void 0),!g(o))return o;try{if(o.M)return o;if(o.N)return o.N}catch(e){return o}for(var t in o)j(o,t)&&(e[t]=o[t]);return e.prototype=o.prototype,(o.N=e).M=!0,e.O=o,e},uninstall:function(){return c.report.uninstall(),this.P(),this.Q(),this.R(),this.S(),Error.stackTraceLimit=this.o,this.n=!1,this},T:function(e){this.z("debug","Raven caught unhandled promise rejection:",e),this.captureException(e.reason,{mechanism:{type:"onunhandledrejection",handled:!1}})},B:function(){return this.T=this.T.bind(this),F.addEventListener&&F.addEventListener("unhandledrejection",this.T),this},P:function(){return F.removeEventListener&&F.removeEventListener("unhandledrejection",this.T),this},captureException:function(t,e){if(e=x({trimHeadFrames:0},e||{}),i(t)&&t.error)t=t.error;else{if(p(t)||l(t)){var r=t.name||(p(t)?"DOMError":"DOMException"),n=t.message?r+": "+t.message:r;return this.captureMessage(n,x(e,{stacktrace:!0,trimHeadFrames:e.trimHeadFrames+1}))}if(f(t))t=t;else{if(!h(t))return this.captureMessage(t,x(e,{stacktrace:!0,trimHeadFrames:e.trimHeadFrames+1}));e=this.U(e,t),t=new Error(e.message)}}this.d=t;try{var o=c.computeStackTrace(t);this.V(o,e)}catch(e){if(t!==e)throw e}return this},U:function(e,t){var r=Object.keys(t).sort(),n=x(e,{message:"Non-Error exception captured with keys: "+D(r),fingerprint:[a(r)],extra:e.extra||{}});return n.extra.W=P(t),n},captureMessage:function(e,t){if(!this.k.ignoreErrors.test||!this.k.ignoreErrors.test(e)){var r,n=x({message:e+=""},t=t||{});try{throw new Error(e)}catch(e){r=e}r.name=null;var o=c.computeStackTrace(r),a=y(o.stack)&&o.stack[1];a&&"Raven.captureException"===a.func&&(a=o.stack[2]);var i=a&&a.url||"";if((!this.k.ignoreUrls.test||!this.k.ignoreUrls.test(i))&&(!this.k.whitelistUrls.test||this.k.whitelistUrls.test(i))){if(this.k.stacktrace||t.stacktrace||""===n.message){n.fingerprint=null==n.fingerprint?e:n.fingerprint,(t=x({trimHeadFrames:0},t)).trimHeadFrames+=1;var s=this.X(o,t);n.stacktrace={frames:s.reverse()}}return n.fingerprint&&(n.fingerprint=y(n.fingerprint)?n.fingerprint:[n.fingerprint]),this.Y(n),this}}},captureBreadcrumb:function(e){var t=x({timestamp:o()/1e3},e);if(g(this.k.breadcrumbCallback)){var r=this.k.breadcrumbCallback(t);if(d(r)&&!b(r))t=r;else if(!1===r)return this}return this.u.push(t),this.u.length>this.k.maxBreadcrumbs&&this.u.shift(),this},addPlugin:function(e){var t=[].slice.call(arguments,1);return this.r.push([e,t]),this.n&&this.F(),this},setUserContext:function(e){return this.j.user=e,this},setExtraContext:function(e){return this.Z("extra",e),this},setTagsContext:function(e){return this.Z("tags",e),this},clearContext:function(){return this.j={},this},getContext:function(){return JSON.parse(s(this.j))},setEnvironment:function(e){return this.k.environment=e,this},setRelease:function(e){return this.k.release=e,this},setDataCallback:function(e){var t=this.k.dataCallback;return this.k.dataCallback=r(t,e),this},setBreadcrumbCallback:function(e){var t=this.k.breadcrumbCallback;return this.k.breadcrumbCallback=r(t,e),this},setShouldSendCallback:function(e){var t=this.k.shouldSendCallback;return this.k.shouldSendCallback=r(t,e),this},setTransport:function(e){return this.k.transport=e,this},lastException:function(){return this.d},lastEventId:function(){return this.f},isSetup:function(){return!(!this.a||!this.g&&(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this.z("error","Error: Raven has not been configured.")),1))},afterLoad:function(){var e=F.RavenConfig;e&&this.config(e.dsn,e.config).install()},showReportDialog:function(e){if(z){if(!(e=Object.assign({eventId:this.lastEventId(),dsn:this.H,user:this.j.user||{}},e)).eventId)throw new u("Missing eventId");if(!e.dsn)throw new u("Missing DSN");var t=encodeURIComponent,r=[];for(var n in e)if("user"===n){var o=e.user;o.name&&r.push("name="+t(o.name)),o.email&&r.push("email="+t(o.email))}else r.push(t(n)+"="+t(e[n]));var a=this.J(this.G(e.dsn)),i=z.createElement("script");i.async=!0,i.src=a+"/api/embed/error-page/?"+r.join("&"),(z.head||z.body).appendChild(i)}},L:function(){var e=this;this.m+=1,setTimeout(function(){e.m-=1})},$:function(e,t){var r,n;if(this.b){for(n in t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),z.createEvent?(r=z.createEvent("HTMLEvents")).initEvent(e,!0,!0):(r=z.createEventObject()).eventType=e,t)j(t,n)&&(r[n]=t[n]);if(z.createEvent)z.dispatchEvent(r);else try{z.fireEvent("on"+r.eventType.toLowerCase(),r)}catch(e){}}},_:function(r){var n=this;return function(e){if(n.aa=null,n.v!==e){var t;n.v=e;try{t=R(e.target)}catch(e){t="<unknown>"}n.captureBreadcrumb({category:"ui."+r,message:t})}}},ba:function(){var o=this;return function(e){var t;try{t=e.target}catch(e){return}var r=t&&t.tagName;if(r&&("INPUT"===r||"TEXTAREA"===r||t.isContentEditable)){var n=o.aa;n||o._("input")(e),clearTimeout(n),o.aa=setTimeout(function(){o.aa=null},1e3)}}},ca:function(e,t){var r=A(this.w.href),n=A(t),o=A(e);this.x=t,r.protocol===n.protocol&&r.host===n.host&&(t=n.relative),r.protocol===o.protocol&&r.host===o.host&&(e=o.relative),this.captureBreadcrumb({category:"navigation",data:{to:t,from:e}})},C:function(){var e=this;e.da=Function.prototype.toString,Function.prototype.toString=function(){return"function"==typeof this&&this.M?e.da.apply(this.O,arguments):e.da.apply(this,arguments)}},Q:function(){this.da&&(Function.prototype.toString=this.da)},D:function(){function e(a){return function(e,t){for(var r=new Array(arguments.length),n=0;n<r.length;++n)r[n]=arguments[n];var o=r[0];return g(o)&&(r[0]=u.wrap({mechanism:{type:"instrument",data:{function:a.name||"<anonymous>"}}},o)),a.apply?a.apply(this,r):a(r[0],r[1])}}function t(c){var e=F[c]&&F[c].prototype;e&&e.hasOwnProperty&&e.hasOwnProperty("addEventListener")&&(q(e,"addEventListener",function(s){return function(e,t,r,n){try{t&&t.handleEvent&&(t.handleEvent=u.wrap({mechanism:{type:"instrument",data:{target:c,function:"handleEvent",handler:t&&t.name||"<anonymous>"}}},t.handleEvent))}catch(e){}var o,a,i;return p&&p.dom&&("EventTarget"===c||"Node"===c)&&(a=u._("click"),i=u.ba(),o=function(e){if(e){var t;try{t=e.type}catch(e){return}return"click"===t?a(e):"keypress"===t?i(e):void 0}}),s.call(this,e,u.wrap({mechanism:{type:"instrument",data:{target:c,function:"addEventListener",handler:t&&t.name||"<anonymous>"}}},t,o),r,n)}},r),q(e,"removeEventListener",function(o){return function(e,t,r,n){try{t=t&&(t.N?t.N:t)}catch(e){}return o.call(this,e,t,r,n)}},r))}var u=this,r=u.t,p=this.k.autoBreadcrumbs;q(F,"setTimeout",e,r),q(F,"setInterval",e,r),F.requestAnimationFrame&&q(F,"requestAnimationFrame",function(t){return function(e){return t(u.wrap({mechanism:{type:"instrument",data:{function:"requestAnimationFrame",handler:t&&t.name||"<anonymous>"}}},e))}},r);for(var n=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],o=0;o<n.length;o++)t(n[o])},E:function(){function a(t,e){t in e&&g(e[t])&&q(e,t,function(e){return s.wrap({mechanism:{type:"instrument",data:{function:t,handler:e&&e.name||"<anonymous>"}}},e)})}var s=this,e=this.k.autoBreadcrumbs,t=s.t;if(e.xhr&&"XMLHttpRequest"in F){var r=F.XMLHttpRequest&&F.XMLHttpRequest.prototype;q(r,"open",function(r){return function(e,t){return v(t)&&-1===t.indexOf(s.h)&&(this.ea={method:e,url:t,status_code:null}),r.apply(this,arguments)}},t),q(r,"send",function(o){return function(){function t(){if(e.ea&&4===e.readyState){try{e.ea.status_code=e.status}catch(e){}s.captureBreadcrumb({type:"http",category:"xhr",data:e.ea})}}for(var e=this,r=["onload","onerror","onprogress"],n=0;n<r.length;n++)a(r[n],e);return"onreadystatechange"in e&&g(e.onreadystatechange)?q(e,"onreadystatechange",function(e){return s.wrap({mechanism:{type:"instrument",data:{function:"onreadystatechange",handler:e&&e.name||"<anonymous>"}}},e,t)}):e.onreadystatechange=t,o.apply(this,arguments)}},t)}e.xhr&&M()&&q(F,"fetch",function(i){return function(){for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];var r,n=e[0],o="GET";if("string"==typeof n?r=n:"Request"in F&&n instanceof F.Request?(r=n.url,n.method&&(o=n.method)):r=""+n,-1!==r.indexOf(s.h))return i.apply(this,e);e[1]&&e[1].method&&(o=e[1].method);var a={method:o,url:r,status_code:null};return i.apply(this,e).then(function(e){return a.status_code=e.status,s.captureBreadcrumb({type:"http",category:"fetch",data:a}),e}).catch(function(e){throw s.captureBreadcrumb({type:"http",category:"fetch",data:a,level:"error"}),e})}},t),e.dom&&this.b&&(z.addEventListener?(z.addEventListener("click",s._("click"),!1),z.addEventListener("keypress",s.ba(),!1)):z.attachEvent&&(z.attachEvent("onclick",s._("click")),z.attachEvent("onkeypress",s.ba())));var n=F.chrome,o=!(n&&n.app&&n.app.runtime)&&F.history&&F.history.pushState&&F.history.replaceState;if(e.location&&o){var i=F.onpopstate;F.onpopstate=function(){var e=s.w.href;if(s.ca(s.x,e),i)return i.apply(this,arguments)};var c=function(t){return function(){var e=2<arguments.length?arguments[2]:void 0;return e&&s.ca(s.x,e+""),t.apply(this,arguments)}};q(F.history,"pushState",c,t),q(F.history,"replaceState",c,t)}if(e.console&&"console"in F&&console.log){var u=function(e,t){s.captureBreadcrumb({message:e,level:t.level,category:"console"})};w(["debug","info","warn","error","log"],function(e,t){N(console,t,u)})}},R:function(){for(var e;this.t.length;){var t=(e=this.t.shift())[0],r=e[1],n=e[2];t[r]=n}},S:function(){for(var e in this.q)this.p[e]=this.q[e]},F:function(){var o=this;w(this.r,function(e,t){var r=t[0],n=t[1];r.apply(o,[o].concat(n))})},G:function(t){var e=H.exec(t),r={},n=7;try{for(;n--;)r[U[n]]=e[n]||""}catch(e){throw new u("Invalid DSN: "+t)}if(r.pass&&!this.k.allowSecretKey)throw new u("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return r},J:function(e){var t="//"+e.host+(e.port?":"+e.port:"");return e.protocol&&(t=e.protocol+":"+t),t},A:function(e,t){(t=t||{}).mechanism=t.mechanism||{type:"onerror",handled:!1},this.m||this.V(e,t)},V:function(e,t){var r=this.X(e,t);this.$("handle",{stackInfo:e,options:t}),this.fa(e.name,e.message,e.url,e.lineno,r,t)},X:function(n,e){var o=this,a=[];if(n.stack&&n.stack.length&&(w(n.stack,function(e,t){var r=o.ga(t,n.url);r&&a.push(r)}),e&&e.trimHeadFrames))for(var t=0;t<e.trimHeadFrames&&t<a.length;t++)a[t].in_app=!1;return a=a.slice(0,this.k.stackTraceLimit)},ga:function(e,t){var r={filename:e.url,lineno:e.line,colno:e.column,function:e.func||"?"};return e.url||(r.filename=t),r.in_app=!(this.k.includePaths.test&&!this.k.includePaths.test(r.filename)||/(Raven|TraceKit)\./.test(r.function)||/raven\.(min\.)?js$/.test(r.filename)),r},fa:function(e,t,r,n,o,a){var i,s=(e?e+": ":"")+(t||"");if((!this.k.ignoreErrors.test||!this.k.ignoreErrors.test(t)&&!this.k.ignoreErrors.test(s))&&(o&&o.length?(r=o[0].filename||r,o.reverse(),i={frames:o}):r&&(i={frames:[{filename:r,lineno:n,in_app:!0}]}),(!this.k.ignoreUrls.test||!this.k.ignoreUrls.test(r))&&(!this.k.whitelistUrls.test||this.k.whitelistUrls.test(r)))){var c=x({exception:{values:[{type:e,value:t,stacktrace:i}]},transaction:r},a),u=c.exception.values[0];null==u.type&&""===u.value&&(u.value="Unrecoverable error caught"),!c.exception.mechanism&&c.mechanism&&(c.exception.mechanism=c.mechanism,delete c.mechanism),c.exception.mechanism=x({type:"generic",handled:!0},c.exception.mechanism||{}),this.Y(c)}},ha:function(e){var t=this.k.maxMessageLength;if(e.message&&(e.message=k(e.message,t)),e.exception){var r=e.exception.values[0];r.value=k(r.value,t)}var n=e.request;return n&&(n.url&&(n.url=k(n.url,this.k.maxUrlLength)),n.Referer&&(n.Referer=k(n.Referer,this.k.maxUrlLength))),e.breadcrumbs&&e.breadcrumbs.values&&this.ia(e.breadcrumbs),e},ia:function(e){for(var t,r,n,o=["to","from","url"],a=0;a<e.values.length;++a)if((r=e.values[a]).hasOwnProperty("data")&&d(r.data)&&!E(r.data)){n=x({},r.data);for(var i=0;i<o.length;++i)t=o[i],n.hasOwnProperty(t)&&n[t]&&(n[t]=k(n[t],this.k.maxUrlLength));e.values[a].data=n}},ja:function(){if(this.c||this.b){var e={};return this.c&&B.userAgent&&(e.headers={"User-Agent":B.userAgent}),F.location&&F.location.href&&(e.url=F.location.href),this.b&&z.referrer&&(e.headers||(e.headers={}),e.headers.Referer=z.referrer),e}},y:function(){this.ka=0,this.la=null},ma:function(){return this.ka&&o()-this.la<this.ka},na:function(e){var t=this.e;return!(!t||e.message!==t.message||e.transaction!==t.transaction)&&(e.stacktrace||t.stacktrace?C(e.stacktrace,t.stacktrace):!e.exception&&!t.exception||I(e.exception,t.exception))},oa:function(e){if(!this.ma()){var t=e.status;if(400===t||401===t||429===t){var r;try{r=M()?e.headers.get("Retry-After"):e.getResponseHeader("Retry-After"),r=1e3*parseInt(r,10)}catch(e){}this.ka=r||(2*this.ka||1e3),this.la=o()}}},Y:function(t){var e=this.k,r={project:this.i,logger:e.logger,platform:"javascript"},n=this.ja();if(n&&(r.request=n),t.trimHeadFrames&&delete t.trimHeadFrames,(t=x(r,t)).tags=x(x({},this.j.tags),t.tags),t.extra=x(x({},this.j.extra),t.extra),t.extra["session:duration"]=o()-this.s,this.u&&0<this.u.length&&(t.breadcrumbs={values:[].slice.call(this.u,0)}),this.j.user&&(t.user=this.j.user),e.environment&&(t.environment=e.environment),e.release&&(t.release=e.release),e.serverName&&(t.server_name=e.serverName),t=this.pa(t),Object.keys(t).forEach(function(e){(null==t[e]||""===t[e]||b(t[e]))&&delete t[e]}),g(e.dataCallback)&&(t=e.dataCallback(t)||t),t&&!b(t)&&(!g(e.shouldSendCallback)||e.shouldSendCallback(t)))return this.ma()?void this.z("warn","Raven dropped error due to backoff: ",t):void("number"==typeof e.sampleRate?Math.random()<e.sampleRate&&this.qa(t):this.qa(t))},pa:function(e){return L(e,this.k.sanitizeKeys)},ra:function(){return T()},qa:function(t,r){var n=this,e=this.k;if(this.isSetup()){if(t=this.ha(t),!this.k.allowDuplicates&&this.na(t))return void this.z("warn","Raven dropped repeat event: ",t);this.f=t.event_id||(t.event_id=this.ra()),this.e=t,this.z("debug","Raven about to send:",t);var o={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this.h};this.I&&(o.sentry_secret=this.I);var a=t.exception&&t.exception.values[0];this.k.autoBreadcrumbs&&this.k.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:a?(a.type?a.type+": ":"")+a.value:t.message,event_id:t.event_id,level:t.level||"error"});var i=this.K;(e.transport||this._makeRequest).call(this,{url:i,auth:o,data:t,options:e,onSuccess:function(){n.y(),n.$("success",{data:t,src:i}),r&&r()},onError:function(e){n.z("error","Raven transport failed to send: ",e),e.request&&n.oa(e.request),n.$("failure",{data:t,src:i}),e=e||new Error("Raven send failed (no additional details provided)"),r&&r(e)}})}},_makeRequest:function(r){var e=r.url+"?"+S(r.auth),t=null,n={};if(r.options.headers&&(t=this.sa(r.options.headers)),r.options.fetchParameters&&(n=this.sa(r.options.fetchParameters)),M()){n.body=s(r.data);var o=x({},this.l),a=x(o,n);return t&&(a.headers=t),F.fetch(e,a).then(function(e){if(e.ok)r.onSuccess&&r.onSuccess();else{var t=new Error("Sentry error code: "+e.status);t.request=e,r.onError&&r.onError(t)}}).catch(function(){r.onError&&r.onError(new Error("Sentry error code: network unavailable"))})}var i=F.XMLHttpRequest&&new F.XMLHttpRequest;i&&(("withCredentials"in i||"undefined"!=typeof XDomainRequest)&&("withCredentials"in i?i.onreadystatechange=function(){if(4===i.readyState)if(200===i.status)r.onSuccess&&r.onSuccess();else if(r.onError){var e=new Error("Sentry error code: "+i.status);e.request=i,r.onError(e)}}:(i=new XDomainRequest,e=e.replace(/^https?:/,""),r.onSuccess&&(i.onload=r.onSuccess),r.onError&&(i.onerror=function(){var e=new Error("Sentry error code: XDomainRequest");e.request=i,r.onError(e)})),i.open("POST",e),t&&w(t,function(e,t){i.setRequestHeader(e,t)}),i.send(s(r.data))))},sa:function(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];t[r]="function"==typeof n?n():n}return t},z:function(e){this.q[e]&&(this.debug||this.k.debug)&&Function.prototype.apply.call(this.q[e],this.p,[].slice.call(arguments,1))},Z:function(e,t){m(t)?delete this.j[e]:this.j[e]=x(this.j[e]||{},t)}}).setUser=t.prototype.setUserContext,t.prototype.setReleaseContext=t.prototype.setRelease,J.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1,2:2,5:5,6:6,7:7,8:8}],4:[function(a,i,e){(function(e){var t=a(3),r="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},n=r.Raven,o=new t;o.noConflict=function(){return r.Raven=n,o},o.afterLoad(),i.exports=o,i.exports.Client=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{3:3}],5:[function(b,w,e){(function(e){function o(e){return void 0===e}function i(e){return"[object Object]"===Object.prototype.toString.call(e)}function c(e){return"[object String]"===Object.prototype.toString.call(e)}function s(e){return"[object Array]"===Object.prototype.toString.call(e)}function t(){if(!("fetch"in g))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function n(e,t){var r,n;if(o(e.length))for(r in e)a(e,r)&&t.call(null,r,e[r]);else if(n=e.length)for(r=0;r<n;r++)t.call(null,r,e[r])}function r(e,t){if("number"!=typeof t)throw new Error("2nd argument to `truncate` function should be a number");return"string"!=typeof e||0===t?e:e.length<=t?e:e.substr(0,t)+"…"}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){for(var t,r=[],n=0,o=e.length;n<o;n++)c(t=e[n])?r.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&r.push(t.source);return new RegExp(r.join("|"),"i")}function p(e){var t,r,n,o,a,i=[];if(!e||!e.tagName)return"";if(i.push(e.tagName.toLowerCase()),e.id&&i.push("#"+e.id),(t=e.className)&&c(t))for(r=t.split(/\s+/),a=0;a<r.length;a++)i.push("."+r[a]);var s=["type","name","title","alt"];for(a=0;a<s.length;a++)n=s[a],(o=e.getAttribute(n))&&i.push("["+n+'="'+o+'"]');return i.join("")}function l(e,t){return!!(!!e^!!t)}function f(e,t){if(l(e,t))return!1;var r=e.frames,n=t.frames;if(void 0===r||void 0===n)return!1;if(r.length!==n.length)return!1;for(var o,a,i=0;i<r.length;i++)if(o=r[i],a=n[i],o.filename!==a.filename||o.lineno!==a.lineno||o.colno!==a.colno||o.function!==a.function)return!1;return!0}function d(e){return t=JSON.stringify(e),~-encodeURI(t).split(/%..|./).length;var t}function h(e){if("string"==typeof e){return r(e,40)}if("number"==typeof e||"boolean"==typeof e||void 0===e)return e;var t=Object.prototype.toString.call(e);return"[object Object]"===t?"[Object]":"[object Array]"===t?"[Array]":"[object Function]"===t?e.name?"[Function: "+e.name+"]":"[Function]":e}var m=b(7),g="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},v=3,y=51200;w.exports={isObject:function(e){return"object"==typeof e&&null!==e},isError:function(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}},isErrorEvent:function(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)},isDOMError:function(e){return"[object DOMError]"===Object.prototype.toString.call(e)},isDOMException:function(e){return"[object DOMException]"===Object.prototype.toString.call(e)},isUndefined:o,isFunction:function(e){return"function"==typeof e},isPlainObject:i,isString:c,isArray:s,isEmptyObject:function(e){if(!i(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},supportsErrorEvent:function(){try{return new ErrorEvent(""),!0}catch(e){return!1}},supportsDOMError:function(){try{return new DOMError(""),!0}catch(e){return!1}},supportsDOMException:function(){try{return new DOMException(""),!0}catch(e){return!1}},supportsFetch:t,supportsReferrerPolicy:function(){if(!t())return!1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(e){return!1}},supportsPromiseRejectionEvent:function(){return"function"==typeof PromiseRejectionEvent},wrappedCallback:function(n){return function(e,t){var r=n(e)||e;return t&&t(r)||r}},each:n,objectMerge:function(r,e){return e&&n(e,function(e,t){r[e]=t}),r},truncate:r,objectFrozen:function(e){return!!Object.isFrozen&&Object.isFrozen(e)},hasKey:a,joinRegExp:u,urlencode:function(e){var r=[];return n(e,function(e,t){r.push(encodeURIComponent(e)+"="+encodeURIComponent(t))}),r.join("&")},uuid4:function(){var e=g.crypto||g.msCrypto;if(!o(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;var r=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return r(t[0])+r(t[1])+r(t[2])+r(t[3])+r(t[4])+r(t[5])+r(t[6])+r(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},htmlTreeAsString:function(e){for(var t,r=[],n=0,o=0,a=" > ".length;e&&n++<5&&!("html"===(t=p(e))||1<n&&80<=o+r.length*a+t.length);)r.push(t),o+=t.length,e=e.parentNode;return r.reverse().join(" > ")},htmlElementAsString:p,isSameException:function(e,t){return!l(e,t)&&(e=e.values[0],t=t.values[0],e.type===t.type&&e.value===t.value&&(r=e.stacktrace,n=t.stacktrace,!(o(r)&&o(n))&&f(e.stacktrace,t.stacktrace)));var r,n},isSameStacktrace:f,parseUrl:function(e){if("string"!=typeof e)return{};var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/),r=t[6]||"",n=t[8]||"";return{protocol:t[2],host:t[4],path:t[5],relative:t[5]+r+n}},fill:function(e,t,r,n){if(null!=e){var o=e[t];e[t]=r(o),e[t].M=!0,e[t].O=o,n&&n.push([e,t,o])}},safeJoin:function(e,t){if(!s(e))return"";for(var r=[],n=0;n<e.length;n++)try{r.push(String(e[n]))}catch(e){r.push("[value cannot be serialized]")}return r.join(t)},serializeException:function e(t,r,n){if(!i(t))return t;n="number"!=typeof(r="number"!=typeof r?v:r)?y:n;var o=function r(n,o){return 0===o?h(n):i(n)?Object.keys(n).reduce(function(e,t){return e[t]=r(n[t],o-1),e},{}):Array.isArray(n)?n.map(function(e){return r(e,o-1)}):h(n)}(t,r);return d(m(o))>n?e(t,r-1):o},serializeKeysForMessage:function(e,t){if("number"==typeof e||"string"==typeof e)return e.toString();if(!Array.isArray(e))return"";if(0===(e=e.filter(function(e){return"string"==typeof e})).length)return"[object has no keys]";if(t="number"!=typeof t?40:t,e[0].length>=t)return e[0];for(var r=e.length;0<r;r--){var n=e.slice(0,r).join(", ");if(!(n.length>t))return r===e.length?n:n+"…"}return""},sanitize:function(t,e){if(!s(e)||s(e)&&0===e.length)return t;var r,o=u(e),a="********";try{r=JSON.parse(m(t))}catch(e){return t}return function r(n){return s(n)?n.map(function(e){return r(e)}):i(n)?Object.keys(n).reduce(function(e,t){return e[t]=o.test(t)?a:r(n[t]),e},{}):n}(r)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{7:7}],6:[function(t,r,e){(function(e){function y(){return"undefined"==typeof document||null==document.location?"":document.location.href}var h=t(5),m={collectWindowErrors:!0,debug:!1},n="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},s=[].slice,g=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;m.report=function(){function p(e,t){var r=null;if(!t||m.collectWindowErrors){for(var n in o)if(o.hasOwnProperty(n))try{o[n].apply(null,[e].concat(s.call(arguments,2)))}catch(e){r=e}if(r)throw r}}function t(e,t,r,n,o){var a=h.isErrorEvent(o)?o.error:o,i=h.isErrorEvent(e)?e.message:e;if(d)m.computeStackTrace.augmentStackTraceWithInitialElement(d,t,r,i),l();else if(a&&h.isError(a))p(m.computeStackTrace(a),!0);else{var s,c={url:t,line:r,column:n},u=void 0;if("[object String]"==={}.toString.call(i))(s=i.match(g))&&(u=s[1],i=s[2]);c.func="?",p({name:u,message:i,url:y(),stack:[c]},!0)}return!!f&&f.apply(this,arguments)}function l(){var e=d,t=a;p.apply(i=d=a=null,[e,!1].concat(t))}function e(e,t){var r=s.call(arguments,1);if(d){if(i===e)return;l()}var n=m.computeStackTrace(e);if(d=n,i=e,a=r,setTimeout(function(){i===e&&l()},n.incomplete?2e3:0),!1!==t)throw e}var f,r,o=[],a=null,i=null,d=null;return e.subscribe=function(e){r||(f=n.onerror,n.onerror=t,r=!0),o.push(e)},e.unsubscribe=function(e){for(var t=o.length-1;0<=t;--t)o[t]===e&&o.splice(t,1)},e.uninstall=function(){r&&(n.onerror=f,r=!1,f=void 0),o=[]},e}(),m.computeStackTrace=function(){function n(e){if(void 0!==e.stack&&e.stack){for(var t,r,n,o=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,a=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,i=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,s=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,c=/\((\S*)(?::(\d+))(?::(\d+))\)/,u=e.stack.split("\n"),p=[],l=(/^(.*) is undefined$/.exec(e.message),0),f=u.length;l<f;++l){if(r=o.exec(u[l])){var d=r[2]&&0===r[2].indexOf("native");r[2]&&0===r[2].indexOf("eval")&&(t=c.exec(r[2]))&&(r[2]=t[1],r[3]=t[2],r[4]=t[3]),n={url:d?null:r[2],func:r[1]||"?",args:d?[r[2]]:[],line:r[3]?+r[3]:null,column:r[4]?+r[4]:null}}else if(r=a.exec(u[l]))n={url:r[2],func:r[1]||"?",args:[],line:+r[3],column:r[4]?+r[4]:null};else{if(!(r=i.exec(u[l])))continue;r[3]&&-1<r[3].indexOf(" > eval")&&(t=s.exec(r[3]))?(r[3]=t[1],r[4]=t[2],r[5]=null):0!==l||r[5]||void 0===e.columnNumber||(p[0].column=e.columnNumber+1),n={url:r[3],func:r[1]||"?",args:r[2]?r[2].split(","):[],line:r[4]?+r[4]:null,column:r[5]?+r[5]:null}}if(!n.func&&n.line&&(n.func="?"),n.url&&"blob:"===n.url.substr(0,5)){var h=new XMLHttpRequest;if(h.open("GET",n.url,!1),h.send(null),200===h.status){var m=h.responseText||"",g=(m=m.slice(-300)).match(/\/\/# sourceMappingURL=(.*)$/);if(g){var v=g[1];"~"===v.charAt(0)&&(v=("undefined"==typeof document||null==document.location?"":document.location.origin?document.location.origin:document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:""))+v.slice(1)),n.url=v.slice(0,-4)}}}p.push(n)}return p.length?{name:e.name,message:e.message,url:y(),stack:p}:null}}function p(e,t,r,n){var o={url:t,line:r};if(o.url&&o.line){if(e.incomplete=!1,o.func||(o.func="?"),0<e.stack.length&&e.stack[0].url===o.url){if(e.stack[0].line===o.line)return!1;if(!e.stack[0].line&&e.stack[0].func===o.func)return e.stack[0].line=o.line,!1}return e.stack.unshift(o),e.partial=!0}return!(e.incomplete=!0)}function l(e,t){for(var r,n,o=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,a=[],i={},s=!1,c=l.caller;c&&!s;c=c.caller)if(c!==f&&c!==m.report){if(n={url:null,func:"?",line:null,column:null},c.name?n.func=c.name:(r=o.exec(c.toString()))&&(n.func=r[1]),void 0===n.func)try{n.func=r.input.substring(0,r.input.indexOf("{"))}catch(e){}i[""+c]?s=!0:i[""+c]=!0,a.push(n)}t&&a.splice(0,t);var u={name:e.name,message:e.message,url:y(),stack:a};return p(u,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),u}function f(e,t){var r=null;t=null==t?0:+t;try{if(r=n(e))return r}catch(e){if(m.debug)throw e}try{if(r=l(e,t+1))return r}catch(e){if(m.debug)throw e}return{name:e.name,message:e.message,url:y()}}return f.augmentStackTraceWithInitialElement=p,f.computeStackTraceFromStackProp=n,f}(),r.exports=m}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{5:5}],7:[function(e,t,r){function s(e,t){for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}function o(n,o){var a=[],i=[];return null==o&&(o=function(e,t){return a[0]===t?"[Circular ~]":"[Circular ~."+i.slice(0,s(a,t)).join(".")+"]"}),function(e,t){if(0<a.length){var r=s(a,this);~r?a.splice(r+1):a.push(this),~r?i.splice(r,1/0,e):i.push(e),~s(a,t)&&(t=o.call(this,e,t))}else a.push(t);return null==n?t instanceof Error?function(e){var t={stack:e.stack,message:e.message,name:e.name};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}(t):t:n.call(this,e,t)}}(t.exports=function(e,t,r,n){return JSON.stringify(e,o(t,n),r)}).getSerialize=o},{}],8:[function(e,t,r){function l(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function s(e,t,r,n,o,a){return l((i=l(l(t,e),l(n,a)))<<(s=o)|i>>>32-s,r);var i,s}function f(e,t,r,n,o,a,i){return s(t&r|~t&n,e,t,o,a,i)}function d(e,t,r,n,o,a,i){return s(t&n|r&~n,e,t,o,a,i)}function h(e,t,r,n,o,a,i){return s(t^r^n,e,t,o,a,i)}function m(e,t,r,n,o,a,i){return s(r^(t|~n),e,t,o,a,i)}function c(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var r,n,o,a,i,s=1732584193,c=-271733879,u=-1732584194,p=271733878;for(r=0;r<e.length;r+=16)c=m(c=m(c=m(c=m(c=h(c=h(c=h(c=h(c=d(c=d(c=d(c=d(c=f(c=f(c=f(c=f(o=c,u=f(a=u,p=f(i=p,s=f(n=s,c,u,p,e[r],7,-680876936),c,u,e[r+1],12,-389564586),s,c,e[r+2],17,606105819),p,s,e[r+3],22,-1044525330),u=f(u,p=f(p,s=f(s,c,u,p,e[r+4],7,-176418897),c,u,e[r+5],12,1200080426),s,c,e[r+6],17,-1473231341),p,s,e[r+7],22,-45705983),u=f(u,p=f(p,s=f(s,c,u,p,e[r+8],7,1770035416),c,u,e[r+9],12,-1958414417),s,c,e[r+10],17,-42063),p,s,e[r+11],22,-1990404162),u=f(u,p=f(p,s=f(s,c,u,p,e[r+12],7,1804603682),c,u,e[r+13],12,-40341101),s,c,e[r+14],17,-1502002290),p,s,e[r+15],22,1236535329),u=d(u,p=d(p,s=d(s,c,u,p,e[r+1],5,-165796510),c,u,e[r+6],9,-1069501632),s,c,e[r+11],14,643717713),p,s,e[r],20,-373897302),u=d(u,p=d(p,s=d(s,c,u,p,e[r+5],5,-701558691),c,u,e[r+10],9,38016083),s,c,e[r+15],14,-660478335),p,s,e[r+4],20,-405537848),u=d(u,p=d(p,s=d(s,c,u,p,e[r+9],5,568446438),c,u,e[r+14],9,-1019803690),s,c,e[r+3],14,-187363961),p,s,e[r+8],20,1163531501),u=d(u,p=d(p,s=d(s,c,u,p,e[r+13],5,-1444681467),c,u,e[r+2],9,-51403784),s,c,e[r+7],14,1735328473),p,s,e[r+12],20,-1926607734),u=h(u,p=h(p,s=h(s,c,u,p,e[r+5],4,-378558),c,u,e[r+8],11,-2022574463),s,c,e[r+11],16,1839030562),p,s,e[r+14],23,-35309556),u=h(u,p=h(p,s=h(s,c,u,p,e[r+1],4,-1530992060),c,u,e[r+4],11,1272893353),s,c,e[r+7],16,-155497632),p,s,e[r+10],23,-1094730640),u=h(u,p=h(p,s=h(s,c,u,p,e[r+13],4,681279174),c,u,e[r],11,-358537222),s,c,e[r+3],16,-722521979),p,s,e[r+6],23,76029189),u=h(u,p=h(p,s=h(s,c,u,p,e[r+9],4,-640364487),c,u,e[r+12],11,-421815835),s,c,e[r+15],16,530742520),p,s,e[r+2],23,-995338651),u=m(u,p=m(p,s=m(s,c,u,p,e[r],6,-198630844),c,u,e[r+7],10,1126891415),s,c,e[r+14],15,-1416354905),p,s,e[r+5],21,-57434055),u=m(u,p=m(p,s=m(s,c,u,p,e[r+12],6,1700485571),c,u,e[r+3],10,-1894986606),s,c,e[r+10],15,-1051523),p,s,e[r+1],21,-2054922799),u=m(u,p=m(p,s=m(s,c,u,p,e[r+8],6,1873313359),c,u,e[r+15],10,-30611744),s,c,e[r+6],15,-1560198380),p,s,e[r+13],21,1309151649),u=m(u,p=m(p,s=m(s,c,u,p,e[r+4],6,-145523070),c,u,e[r+11],10,-1120210379),s,c,e[r+2],15,718787259),p,s,e[r+9],21,-343485551),s=l(s,n),c=l(c,o),u=l(u,a),p=l(p,i);return[s,c,u,p]}function u(e){var t,r="",n=32*e.length;for(t=0;t<n;t+=8)r+=String.fromCharCode(e[t>>5]>>>t%32&255);return r}function p(e){var t,r=[];for(r[(e.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var n=8*e.length;for(t=0;t<n;t+=8)r[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return r}function n(e){var t,r,n="0123456789abcdef",o="";for(r=0;r<e.length;r+=1)t=e.charCodeAt(r),o+=n.charAt(t>>>4&15)+n.charAt(15&t);return o}function o(e){return unescape(encodeURIComponent(e))}function a(e){return u(c(p(t=o(e)),8*t.length));var t}function i(e,t){return function(e,t){var r,n,o=p(e),a=[],i=[];for(a[15]=i[15]=void 0,16<o.length&&(o=c(o,8*e.length)),r=0;r<16;r+=1)a[r]=909522486^o[r],i[r]=1549556828^o[r];return n=c(a.concat(p(t)),512+8*t.length),u(c(i.concat(n),640))}(o(e),o(t))}t.exports=function(e,t,r){return t?r?i(t,e):n(i(t,e)):r?a(e):n(a(e))}},{}]},{},[4])(4)}),function(S,e){var t,r,n;S.console=S.console||((t={}).log=t.warn=t.debug=t.info=t.error=t.time=t.dir=t.profile=t.clear=t.exception=t.trace=t.assert=function(){},t),Date.now||(Date.now=function(){return(new Date).getTime()});try{"function"!=typeof Object.assign&&(Object.assign=function(e,t){if(null==e)return null;for(var r=Object(e),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])}return r})}catch(e){}try{Object.keys||(Object.keys=function(e){if(e===Object(e)){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r}})}catch(e){}try{xhr.addEventListener&&"function"==typeof xhr.addEventListener||(xhr.addEventListener=function(e,t){var r=this;registry.unshift([r,e,t,function(e){e.currentTarget=r,e.preventDefault=function(){e.returnValue=!1},e.stopPropagation=function(){e.cancelBubble=!0},e.target=e.srcElement||r,t.call(r,e)}]),this.attachEvent("on"+e,registry[0][3])},xhr.dispatchEvent=function(e){return this.fireEvent("on"+e.type,e)})}catch(e){}try{(T=S.location.host.split(".").reverse())[0]=T[0].split(":")[0],T="com"===T[1]?"."+T[2]+"."+T[1]+"."+T[0]:T[1]?-1<parseInt(T[0])&&-1<parseInt(T[1])?"":"."+T[1]+"."+T[0]:T[0]}catch(e){var T=""}function o(e,t,r){if(!e)return"";try{return-1!==e.indexOf("&")&&(e=e.slice(0,e.indexOf("&"))),-1!==e.indexOf("#")&&(e=e.slice(0,e.indexOf("#"))),e&&(document.cookie="rprm_"+t+"="+e+";domain="+T+";path=/;expires="+r),e}catch(e){return""}}S.rprm={compress:function(t){try{if(null==t)return"";return function(e,t,r){if(null==e)return"";var n,o,a,i={},s={},c="",u="",p="",l=2,f=3,d=2,h=[],m=0,g=0;for(a=0;a<e.length;a+=1)if(c=e.charAt(a),Object.prototype.hasOwnProperty.call(i,c)||(i[c]=f++,s[c]=!0),u=p+c,Object.prototype.hasOwnProperty.call(i,u))p=u;else{if(Object.prototype.hasOwnProperty.call(s,p)){if(p.charCodeAt(0)<256){for(n=0;n<d;n++)m<<=1,g==t-1?(g=0,h.push(r(m)),m=0):g++;for(o=p.charCodeAt(0),n=0;n<8;n++)m=m<<1|1&o,g==t-1?(g=0,h.push(r(m)),m=0):g++,o>>=1}else{for(o=1,n=0;n<d;n++)m=m<<1|o,g==t-1?(g=0,h.push(r(m)),m=0):g++,o=0;for(o=p.charCodeAt(0),n=0;n<16;n++)m=m<<1|1&o,g==t-1?(g=0,h.push(r(m)),m=0):g++,o>>=1}0==--l&&(l=Math.pow(2,d),d++),delete s[p]}else for(o=i[p],n=0;n<d;n++)m=m<<1|1&o,g==t-1?(g=0,h.push(r(m)),m=0):g++,o>>=1;0==--l&&(l=Math.pow(2,d),d++),i[u]=f++,p=String(c)}if(""!==p){if(Object.prototype.hasOwnProperty.call(s,p)){if(p.charCodeAt(0)<256){for(n=0;n<d;n++)m<<=1,g==t-1?(g=0,h.push(r(m)),m=0):g++;for(o=p.charCodeAt(0),n=0;n<8;n++)m=m<<1|1&o,g==t-1?(g=0,h.push(r(m)),m=0):g++,o>>=1}else{for(o=1,n=0;n<d;n++)m=m<<1|o,g==t-1?(g=0,h.push(r(m)),m=0):g++,o=0;for(o=p.charCodeAt(0),n=0;n<16;n++)m=m<<1|1&o,g==t-1?(g=0,h.push(r(m)),m=0):g++,o>>=1}0==--l&&(l=Math.pow(2,d),d++),delete s[p]}else for(o=i[p],n=0;n<d;n++)m=m<<1|1&o,g==t-1?(g=0,h.push(r(m)),m=0):g++,o>>=1;0==--l&&(l=Math.pow(2,d),d++)}for(o=2,n=0;n<d;n++)m=m<<1|1&o,g==t-1?(g=0,h.push(r(m)),m=0):g++,o>>=1;for(;;){if(m<<=1,g==t-1){h.push(r(m));break}g++}return h.join("")}(t,6,function(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$".charAt(e)})}catch(e){return rprm.dev&&console.log("压缩加密失败",e),t}},getCookie:function(e){var t=e+"=",r="";try{try{r=decodeURIComponent(document.cookie)}catch(e){r=document.cookie}}catch(e){return""}for(var n=r.split(";"),o=0;o<n.length;o++){for(var a=n[o];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return""},init:function(e){try{if("object"!=typeof e)throw"入参必须是对象";"string"==typeof e.appName&&(rprm.appName=e.appName),"string"==typeof e.statType&&(rprm.statType=e.statType);try{"dev"!==e.env&&"development"!==e.env&&"localhost"!==e.env&&"local"!==e.env||(rprm.ancAPI="//statistic-dev.weimobdc.com/wm.css",rprm.trackAPI="//mapi-dev.weimob.com/fe/mapi/user/actionsAdd",!0===e.debug&&(rprm.dev=!0)),"qa"!==e.env&&"test"!==e.env&&"testing"!==e.env&&-1===e.env.indexOf("quality")&&-1===e.env.indexOf("assurance")&&-1===e.env.indexOf("internal")||(rprm.ancAPI="//statistic-qa.weimobdc.com/wm.css",rprm.trackAPI="//mapi.weimobqa.com/fe/mapi/user/actionsAdd",!0===e.debug&&(rprm.dev=!0)),"pl"!==e.env&&"pre-production"!==e.env&&"preproduction"!==e.env&&"pre_production"!==e.env&&"stage"!==e.env&&"staging"!==e.env&&-1===e.env.indexOf("external")||(rprm.ancAPI="//statistic-qa.weimobdc.com/wm.css",rprm.trackAPI="//mapi-pl.weimob.com/fe/mapi/user/actionsAdd"),"production"!==e.env&&"live"!==e.env||(rprm.ancAPI="//statistic.weimobdc.com/wm.css",rprm.trackAPI="//mapi.weimob.com/fe/mapi/user/actionsAdd")}catch(e){}"string"==typeof e.ancAPI&&(rprm.ancAPI=e.ancAPI),"string"==typeof e.trackAPI&&(rprm.trackAPI=e.trackAPI),!1===e.anchor&&(rprm.ancAPI=!1,rprm.isSending=!0),"number"==typeof e.retry&&(rprm.retry=e.retry),"number"==typeof e.len&&(rprm.len=e.len),"object"==typeof e.public&&rprm.public(e.public);var t=0;try{var r=localStorage.getItem("rprm_tracepromotion");++t;try{r=JSON.parse(r)}catch(e){}++t,r&&"object"==typeof r&&"number"==typeof r.update&&"object"==typeof r.obj&&(Date.now()-r.update<288e5?rprm.vars=Object.assign({},rprm.vars,r.obj):localStorage.removeItem("rprm_tracepromotion")),++t}catch(e){rprm.internal("打点tracepromotion报错 - 402",e,t)}function d(t){var r={};try{"object"==typeof t.headers&&Object.keys(t.headers).forEach(function(e){r[e]=t.headers[e]}),navigator&&navigator.language&&(r["Accept-Language"]=navigator.language),document&&document.referrer&&(r.Referer=document.referrer),document&&document.cookie&&(r.Cookie=document.cookie)}catch(e){}return r}function h(e){try{if(e.responsebody=JSON.parse(e.responsebody),e.responsebody.errorcode&&"0"<e.responsebody.errorcode||e.responsebody.errcode&&"0"<e.responsebody.errcode){var t=d(e.reqObj),r="[errcode: "+(e.responsebody.errorcode||e.responsebody.errcode)+"] "+e.reqObj.method+" "+e.reqObj.url+" ["+e.reqtype+"]";Raven.captureMessage(r,{extra:{app:rprm.appName,reqtype:e.reqtype,errcode:e.responsebody.errorcode||e.responsebody.errcode,errmsg:e.responsebody.errormsg||e.responsebody.errmsg||e.responsebody.msg,url:e.reqObj.url,requestheaders:t,responseheaders:e.responseheaders,"network:duration":Date.now()-e.reqObj.startTime,requestbody:e.requestbody,responsebody:e.responsebody}})}}catch(e){}}if(rprm.timer=setInterval(function(){rprm.send()},rprm.frequency),!S.addEventListener&&(b=S.prototype,w=HTMLDocument.prototype,x=Element.prototype,E="removeEventListener",j="dispatchEvent",O=[],b[k="addEventListener"]=w[k]=x[k]=function(e,t){var r=this;O.unshift([r,e,t,function(e){e.currentTarget=r,e.preventDefault=function(){e.returnValue=!1},e.stopPropagation=function(){e.cancelBubble=!0},e.target=e.srcElement||r,t.call(r,e)}]),this.attachEvent("on"+e,O[0][3])},b[E]=w[E]=x[E]=function(e,t){for(var r,n=0;r==O[n];++n)if(r[0]==this&&r[1]==e&&r[2]==t)return this.detachEvent("on"+e,O.splice(n,1)[0][3])},b[j]=w[j]=x[j]=function(e){return this.fireEvent("on"+e.type,e)}),"XMLHttpRequest"in S){var n=XMLHttpRequest.prototype;rprm.fill(n,"open",function(n){return function(e,t){if("string"==typeof t||t instanceof String){var r=[rprm.ancAPI,"track.weimob.com","dev.weimob.com","socket.io","webim.tim.qq.com"];try{r.forEach(function(e){if(-1!==t.indexOf(e))throw"e"}),this.rprm_xhr={method:e,url:t,startTime:Date.now()}}catch(e){}return n.apply(this,arguments)}}},[]),rprm.fill(n,"setRequestHeader",function(n){return function(e,t){if("object"==typeof this.rprm_xhr){var r={};r[e]=t;try{r=Object.assign({},this.rprm_xhr.headers,r)}catch(e){rprm.internal("打点记录headers报错 - 513",e)}this.rprm_xhr.headers=r}return n.apply(this,arguments)}},[]),rprm.fill(n,"send",function(e){return function(r){var n=this;function o(){if(n.rprm_xhr&&4===n.readyState){var e=d(n.rprm_xhr),t="[status: "+(n.status||"ETIMEDOUT")+"] "+n.rprm_xhr.method+" "+n.rprm_xhr.url+" [xhr]";Raven.captureBreadcrumb({message:t,category:"RPRM",level:"debug",data:{"network:duration":Date.now()-n.rprm_xhr.startTime,requestbody:r,responsebody:"text"===n.responseType||""===n.responseType?5e3<n.responseText.length?n.responseText.slice(0,5e3):n.responseText:""}}),200!==n.status?Raven.captureMessage(t,{extra:{app:rprm.appName,status:n.status||"ETIMEDOUT",reqtype:"xhr",url:n.rprm_xhr.url,requestheaders:e,responseheaders:n.getAllResponseHeaders(),"network:duration":Date.now()-n.rprm_xhr.startTime,requestbody:r,responsebody:"text"===n.responseType||""===n.responseType?5e3<n.responseText.length?n.responseText.slice(0,5e3):n.responseText:""}}):"text"!==n.responseType&&""!==n.responseType||h({responsebody:n.responseText,reqObj:n.rprm_xhr,reqtype:"xhr",responseheaders:n.getAllResponseHeaders(),requestbody:r})}}return"onreadystatechange"in n&&"function"==typeof n.onreadystatechange?rprm.fill(n,"onreadystatechange",function(e){if(rprm.isWrapped=!1)return e;function t(){o.apply(this,arguments);try{return e.apply(this,arguments)}catch(e){throw e}}for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return rprm.isWrapped=!0,t}):n.onreadystatechange=o,e.apply(n,arguments)}},[])}if("fetch"in S&&rprm.fill(S,"fetch",function(f){return function(e,t){for(var r=Date.now(),n=new Array(arguments.length),o=0;o<n.length;++o)n[o]=arguments[o];var a=n[0],i=n[1],s="GET",c={},u="",p="";"string"==typeof a?p=a:(p=a.url,a.method&&(s=a.method)),("object"==typeof i||i instanceof Object)&&(s=i.method,c=i.headers,u=i.body);var l={startTime:r,headers:c,method:s,body:u,url:p};return f.apply(this,n).then(function(r){var n=l.url,e=[rprm.ancAPI,"track.weimob.com","dev.weimob.com","socket.io","webim.tim.qq.com"];try{function t(){var t={};return["Content-Type","Last-modified","Content-Language","Cache-Control","Expires","Pragma","Transfer-Encoding","Connection","Date","X-Response-Time","X-Transaction-Id","X-DAYU-UUID","globalticket"].forEach(function(e){t[e]=r.headers.get(e)}),t}e.forEach(function(e){if(-1!==n.indexOf(e))throw"e"});var o=d(l),a=t(),i="[status: "+(r.status||"ETIMEDOUT")+"] "+l.method+" "+n+" [fetch]";try{r.clone().text().then(function(e){var t=e;Raven.captureBreadcrumb({message:i,category:"RPRM",level:"debug",data:{"network:duration":Date.now()-l.startTime,requestbody:l.body,responsebody:t}})}).catch(function(e){throw e})}catch(e){Raven.captureBreadcrumb({message:i,category:"RPRM",level:"debug",data:{"network:duration":Date.now()-l.startTime,requestbody:l.body,responsebody:"[RPRM] Failed to capture"}})}if(200!==r.status)try{r.clone().text().then(function(e){var t=e;Raven.captureMessage(i,{extra:{app:rprm.appName,status:r.status||"ETIMEDOUT",reqtype:"fetch",url:n,requestheaders:o,responseheaders:a,"network:duration":Date.now()-l.startTime,requestbody:l.body,responsebody:t}})}).catch(function(e){throw e})}catch(e){Raven.captureMessage(i,{extra:{app:rprm.appName,status:r.status||"ETIMEDOUT",reqtype:"fetch",url:n,requestheaders:o,responseheaders:r.headers,"network:duration":Date.now()-l.startTime,requestbody:l.body,responsebody:"[RPRM] Failed to capture"}})}else try{r.clone().text().then(function(e){h({responsebody:e,reqObj:l,reqtype:"fetch",responseheaders:t(),requestbody:l.body})}).catch(function(e){})}catch(e){}}catch(e){}return r}).catch(function(e){var t=d(l);throw Raven.setExtraContext({app:rprm.appName,url:l.url,requestheaders:t,"network:duration":(Date.now()-l.startTime||0)+"ms",requestbody:l.body}),e})}},[]),-1!==S.location.hostname.indexOf("weimob.com")&&-1===S.location.hostname.indexOf("dev.weimob.com")){var o={id:rprm.cuid||"N/A","RPRM Version":rprm.v,"App Name":rprm.appName,"Stat Type":rprm.statType};if(-1!==S.location.hostname.indexOf("n.weimob.com")){var a=[/n.weimob\.com/];function i(e){Raven.config(e,{includePaths:a,tags:o}).install()}-1!==S.location.hostname.indexOf("basis.n.weimob.com")?i("https://bb43364558c64b3eb374a7fc6159c142@track.weimob.com/12"):-1!==S.location.hostname.indexOf("scloud.n.weimob.com")?i("https://d2680fdd1ab445b7a6fad1eb55eb7405@track.weimob.com/15"):"saashuodpath"===rprm.statType?i("https://a3a21b59b1464a9ea3515ede48df303f@track.weimob.com/7"):"saasecpath"===rprm.statType?i("https://fd4b782df6374f5aac52f92252db07d0@track.weimob.com/8"):"saaswzpath"===rprm.statType?i("https://e120634d752d4a589ecb980681f10476@track.weimob.com/9"):"saaskldpath"===rprm.statType?i("https://fc45caf2b8814408817c9a0390a724a7@track.weimob.com/10"):"saaso2opath"===rprm.statType?i("https://7fb06f55e4164122a2facd1b9077971e@track.weimob.com/11"):"saasbdpath"===rprm.statType?i("https://14a68b5403d74214aff70f28f6213cfd@track.weimob.com/13"):"saashudpath"===rprm.statType?i("https://26da254c274f4d988b9a68b11e59ad6f@track.weimob.com/14"):i("https://52c050a6bd104c3ca4e6f55e408ecdc1@track.weimob.com/5")}else-1!==S.location.hostname.indexOf("console.weimob.com")?Raven.config("https://1785c45aeb1442a18b4ba94676a78719@track.weimob.com/4",{includePaths:[/console.weimob\.com/],tags:o}).install():Raven.config("https://49a02f2b079c469195f11e2cd142950e@track.weimob.com/6",{includePaths:[/weimob\.com/],tags:o}).install();Raven.setUserContext(o)}if(!1!==e.anchor){try{rprm.appShowId=rprm.getCookie("rprm_appshow"),rprm.appShowId||(rprm.appShowId="-"+Date.now().toString()+Math.random(),document.cookie="rprm_appshow="+rprm.appShowId+";domain="+T+";path=/")}catch(e){}var s;try{s="-"+Date.now().toString()+Math.random()}catch(e){}if(rprm.pageShowId=rprm.cuid+s,rprm.rec({pageShow:rprm.pageShowId}),"object"==typeof navigator){var c=navigator.userAgent;if("string"==typeof c&&(c=(c=c.slice(c.indexOf("(")+1,c.indexOf(")"))).split("; ")),"object"==typeof c){var u={model:c[0],system:c[1],platform:navigator.platform,language:navigator.language};"object"==typeof screen&&(u.screenwidth=screen.width,u.screenheight=screen.height),"object"==typeof S&&(u.winwidth=S.innerWidth,u.winheight=S.innerHeight);try{var p=navigator.connection||navigator.mozConnection||navigator.webkitConnection,l=p.type||p.effectiveType;p.addEventListener("change",function(){rprm.systemInfo.network=p.type||p.effectiveType}),u.network=l}catch(e){}rprm.systemInfo=u}}var f=S.onhashchange;S.onhashchange=function(){var e;try{e="-"+Date.now().toString()+Math.random()}catch(e){}rprm.pageShowId=rprm.cuid+e,rprm.rec({pageShow:rprm.pageShowId}),"function"==typeof f&&f.apply(f,arguments)};var m=S.onbeforeunload;if(S.onbeforeunload=function(){rprm.send(),"function"==typeof m&&m.apply(m,arguments)},document&&"saaswzpath"===rprm.statType&&!1!==e.heartbeats){function g(){var e=document.body||{},t=document.documentElement||{},r=Math.max(e.scrollHeight||0,e.offsetHeight||0,t.clientHeight||0,t.scrollHeight||0,t.offsetHeight||0),n=S.scrollY||0,o=r-(S.innerHeight||0);return Math.min(100,100*(n/o||1))}function v(){var e,t=rprm.getCookie("rprm_pv");if((t=t.split("-"))[1])try{e=decodeURIComponent(t[1])}catch(e){}"string"==typeof e&&"undefined"!==e&&rprm.rec({pagename:e,elementid:"longpage",eventtype:"slide",page_stay_time:Math.max(1,parseInt((Date.now()-rprm.initTime)/1e3)),visualratio:g()})}function y(){v(),setTimeout(function(){y()},2e3)}rprm.hasLoaded||"complete"!==document.readyState?S.addEventListener("load",function(){y()}):y(),S.addEventListener("scroll",function(e){var t=g();(t>=(rprm.visualRatio||0)+10||100===t)&&(v(),rprm.visualRatio=t)})}}}catch(e){console.log("初始化失败",e)}var b,w,x,k,E,j,O},push:function(t){try{var e=localStorage.getItem("rprm");e=e?e+"#"+t:t,localStorage.setItem("rprm",e),e.length>rprm.len&&(rprm.dev&&console.log("打点数据长度超过阀值，准备发送"),rprm.send())}catch(e){rprm.pushdata?rprm.pushdata=rprm.pushdata+"#"+t:rprm.pushdata=t,rprm.pushdata.length>rprm.len&&(rprm.dev&&console.log("打点数据长度超过阀值，准备发送"),rprm.send())}},pv:function(t){var r=!1;try{rprm.dev&&console.log("RPRM尝试压缩PV打点数据：",t);r="StatType=e&c="+rprm.compress(t)}catch(e){rprm.dev&&console.log("RPRM准备发送PV打点数据：",t);r=t}if(!1!==r){var e=document.createElement("link"),n=document.getElementsByTagName("head")[0],o="http:";n||(n=document.getElementsByTagName("body")[0]),e.rel="stylesheet";try{"https:"===S.location.protocol&&(o="https:")}catch(e){}e.href=o+rprm.ancAPI+"?"+r,n.appendChild(e)}},send:function(){if(rprm.isSending)rprm.dev&&console.log("列队等待下一次打点");else{if(rprm.pushdata)var t=rprm.pushdata;else t=localStorage.getItem("rprm");if(!t||"string"==typeof t&&0===t.length)return;if(rprm.retry<1)return rprm.dev&&console.log("打点接口出错，请通知接口管理员"),void clearInterval(rprm.timer);rprm.isSending=!0;try{rprm.dev&&console.log("RPRM尝试压缩普通打点数据：",t);var r="StatType=e&c="+rprm.compress(t)}catch(e){rprm.dev&&console.log("RPRM准备发送普通打点数据：",t);r=t}var n=new XMLHttpRequest,e="http:";try{"https:"===S.location.protocol&&(e="https:")}catch(e){}try{n.addEventListener("load",o)}catch(e){}try{n.addEventListener("timeout",o)}catch(e){}try{n.addEventListener("error",o,!1)}catch(e){}try{n.addEventListener("abort",o,!1)}catch(e){}n.open("GET",e+rprm.ancAPI+"?"+r);try{n.timeout=5e3}catch(e){}function o(){if(rprm.isSending=!1,200===n.status){rprm.dev&&console.log("打点成功了");t.length;if(rprm.pushdata)rprm.pushdata=rprm.pushdata.substring(t.length);else{var e=localStorage.getItem("rprm");localStorage.setItem("rprm",e.substring(t.length))}}else!function(){rprm.dev&&console.log("打点失败了");rprm.retry--;var e=localStorage.getItem("rprm");if(16384<e.length)if(rprm.dev&&console.log("失败次数太多抛弃部分数据"),rprm.pushdata)rprm.pushdata=rprm.pushdata.substring(t.length);else{t.length;localStorage.setItem("rprm",e.substring(t.length))}}()}n.setRequestHeader("Accept","text/css"),n.setRequestHeader("Content-Type","text/plain"),n.send()}},fill:function(e,t,r,n){var o=e[t];e[t]=r(o),n&&n.push([e,t,o])},rec:function(s){try{if(!1===rprm.ancAPI)return 0,rprm.dev&&console.log("打点被设为关闭, 不记录打点信息:",s),!1;if(!s||s instanceof Array||"object"!=typeof s)rprm.dev&&console.log("rprm.rec 的入参必须是对象");else{0;var c=!1,e="Not_Supported";document&&document.referrer&&(e=document.referrer),0;var u,p=Date.now();0,u="StatType="+rprm.statType+"&timestamp="+p+"&url="+rprm.encode(S.location.href)+"&ua="+rprm.encode(rprm.ua)+"&referrer="+rprm.encode(e)+"&csource="+(rprm.encode(rprm.csource)||rprm.getCookie("rprm_csource"))+"&mjcinfo="+(rprm.encode(rprm.mjcinfo)||rprm.getCookie("rprm_mjcinfo"))+"&tracepromotionid="+(rprm.encode(rprm.tracepid)||rprm.getCookie("rprm_tracepid"))+"&cuid="+rprm.cuid+"&v="+rprm.v,0;try{s=Object.assign({},rprm.systemInfo,rprm.vars,s)}catch(e){rprm.internal("打点Object.assign报错 - 1388",e)}0,Object.keys(s).forEach(function(e){var t=e,r=!1,n=!1;try{r="elementid"===(t=e.toLowerCase())&&"pv"===s[e].toLowerCase(),n="land_page"===t&&1==s[e]}catch(e){}if(-1===["stattype","timestamp","url","ua","csource","cuid","appshow","v"].indexOf(t)&&(u=u+"&"+rprm.encode(e)+"="+rprm.encode(s[e])),"pageShow"===e)c=!0;else if(r){if("object"==typeof rprm.pvobj)try{rprm.pageHide(Object.assign({},rprm.pvobj,{end:p}))}catch(e){rprm.internal("打点生成pageHide Obj报错 - 1444",e)}else{var o,a=rprm.getCookie("rprm_pv"),i=(a=a.split("-"))[0];if(a[1])try{o=decodeURIComponent(a[1])}catch(e){}if("string"==typeof o&&"undefined"!==o)try{rprm.pageHide(Object.assign({},s,{pagename:o,begin:i,end:p}))}catch(e){rprm.internal("打点生成pageHide Obj报错 - 1468",e)}}try{rprm.pvobj=Object.assign({},s,{begin:p})}catch(e){rprm.internal("打点生成pvobj报错 - 1482",e)}document.cookie="rprm_pv="+p+"-"+rprm.encode(rprm.pvobj.pagename||"")+";domain="+T+";path=/",u=u+"&pageShowId="+rprm.pageShowId,c=!0}if(n)try{1!==performance.navigation.type&&(rprm.appShowId="-"+Date.now().toString()+Math.random(),document.cookie="rprm_appshow="+rprm.appShowId+";domain="+T+";path=/")}catch(e){}}),0,u=u+"&appShow="+rprm.cuid+rprm.appShowId,!0===c?(rprm.visualRatio=0,rprm.initTime=Date.now(),rprm.pv(u)):"break"!==c&&rprm.push(u)}}catch(e){rprm.dev&&console.log("打点REC报错:",e),rprm.internal("打点REC报错",e)}},pageHide:function(r){try{if(r&&"object"==typeof r){var e="Not_Supported";document&&document.referrer&&(e=document.referrer);var t=Date.now(),n="StatType="+rprm.statType+"&timestamp="+t+"&url="+rprm.encode(S.location.href)+"&ua="+rprm.encode(rprm.ua)+"&referrer="+rprm.encode(e)+"&csource="+(rprm.encode(rprm.csource)||rprm.getCookie("rprm_csource"))+"&mjcinfo="+(rprm.encode(rprm.mjcinfo)||rprm.getCookie("rprm_mjcinfo"))+"&tracepromotionid="+(rprm.encode(rprm.tracepid)||rprm.getCookie("rprm_tracepid"))+"&cuid="+rprm.cuid+"&v="+rprm.v;r.pageHide=r.end-r.begin,Object.keys(r).forEach(function(e){var t=e;try{t=e.toLowerCase()}catch(e){}-1===["elementid","eventtype","begin","end","stattype","timestamp","url","ua","csource","cuid","appshow","v"].indexOf(t)&&(n=n+"&"+rprm.encode(e)+"="+rprm.encode(r[e]))}),rprm.pv(n),rprm.pvobj=void 0}}catch(e){rprm.dev&&console.log("pageHide报错:",e),rprm.internal("打点pageHide报错 - 1543",e)}},public:function(t,e){if(t&&"object"==typeof t)if("new"===e)try{rprm.vars=Object.assign({},rprm.vars,t)}catch(e){rprm.vars=t,rprm.internal("打点public New报错 - 1573",e)}else rprm.vars=t},addScript:function(e,t){if(e){var r=document.createElement("script"),n=!1,o=document.getElementsByTagName("head")[0];r.onload=r.onreadystatechange=function(){n||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(n=!0,t(),r.onload=r.onreadystatechange=null,o&&r.parentNode&&o.removeChild(r))},r.setAttribute("type","text/javascript"),r.setAttribute("src",e),o.appendChild(r)}},tracepromotion:function(e){if("object"==typeof e&&e instanceof Array==!1){try{rprm.vars=Object.assign({},rprm.vars,e)}catch(e){rprm.internal("打点tracepromotion报错 - 1632",e)}var t={update:Date.now(),obj:e};localStorage.setItem("rprm_tracepromotion",JSON.stringify(t))}},actionsadd:function(e){if("object"!=typeof e)return console.log("actionsadd的入参必须是对象"),!1;var t={};if(e.authorizerAppId)t.authorizerAppId=e.authorizerAppId;else{if(!e.pid)return console.log("actionsadd的入参必须带有authorizerAppId或pid"),!1;t.pid=e.pid}if("string"!=typeof e.aid&&"number"!=typeof e.aid||(t.aid=e.aid),"object"!=typeof e.action)try{e.action=JSON.parse(e.action)}catch(e){}if("object"!=typeof e.action)return console.log("actionsadd的入参必须带有action(对象或者可以parse为对象的字符串)"),!1;if("string"!=typeof e.action.actionType)return console.log("actionsadd的入参必须带有action.actionType(字符串)"),!1;if("string"!=typeof e.action.actionType)return console.log("actionsadd的入参必须带有action.actionType(字符串)"),!1;if(t.action=e.action,"object"!=typeof e.action.trace&&(t.action.trace={}),!rprm.gdtvid)return console.log("actionsadd取消 - 未获取广告traceid"),!1;t.action.trace.clickId=rprm.gdtvid,t.action.url||(t.action.url=S.location.href);try{t.channelType=S.rprm.getCookie("rprm_channeltype")}catch(e){t.channelType=0}var r=new XMLHttpRequest,n="http:";try{"https:"===S.location.protocol&&(n="https:")}catch(e){}try{r.addEventListener("load",o)}catch(e){}try{r.addEventListener("timeout",o)}catch(e){}try{r.addEventListener("error",o,!1)}catch(e){}try{r.addEventListener("abort",o,!1)}catch(e){}r.open("POST",n+rprm.trackAPI);try{r.timeout=5e3}catch(e){}function o(){if(200===r.status)try{if("0"!=JSON.parse(r.responseText).errcode)throw"短路"}catch(e){a()}else a()}function a(){console.log("上报服务器返回了："+r.responseText)}r.setRequestHeader("Accept","*/*"),r.setRequestHeader("Content-Type","application/json"),r.send(JSON.stringify(t))},encode:function(e){var t="encodeURIComponent_failed";try{t=encodeURIComponent(e)}catch(e){}return t},internal:function(e,t,r){var n={};"object"==typeof t&&(n=t),"string"==typeof t&&(n.errmsg=t),"number"==typeof r&&(n.step=r),Raven.captureMessage(e,{extra:n})},vars:{},systemInfo:{},isWrapped:!1,ancAPI:"//statistic.weimobdc.com/wm.css",trackAPI:"//mapi.weimob.com/fe/mapi/user/actionsAdd",appName:"N/A",statType:"N/A",dataId:Math.random().toString(32).slice(-10),dataIndex:1e3,timer:null,rtimer:null,isSending:!1,retry:5,len:8192,frequency:2e3,visualRatio:0,initTime:Date.now(),hasLoaded:!1,ua:"object"==typeof navigator&&navigator.userAgent||"NA",ref:!1,dev:!1,geoInfo:null,v:"h5-99-g"};try{r=S.location.href.toLowerCase()}catch(e){r=S.location.href}try{document&&document.referrer&&(n=document.referrer)}catch(e){}try{var a=S.rprm.getCookie("rprm_mjcinfo");-1!==r.indexOf("__mjcinfo=")?a=r.slice(r.indexOf("__mjcinfo=")+10):n&&-1!==n.indexOf("__mjcinfo=")&&(a=n.slice(n.indexOf("__mjcinfo=")+10)),S.rprm.mjcinfo=o(a,"mjcinfo",new Date((new Date).setMonth((new Date).getMonth()+1)).toGMTString())}catch(e){S.rprm.mjcinfo=""}try{var i=S.rprm.getCookie("rprm_csource");-1!==r.indexOf("channelsource=")?i=r.slice(r.indexOf("channelsource=")+14):-1!==r.indexOf("csource=")?i=r.slice(r.indexOf("csource=")+8):n&&(-1!==n.indexOf("channelsource=")?i=n.slice(n.indexOf("channelsource=")+14):-1!==n.indexOf("csource=")&&(i=n.slice(n.indexOf("csource=")+8))),S.rprm.csource=o(i,"csource",new Date((new Date).setMonth((new Date).getMonth()+1)).toGMTString())}catch(e){S.rprm.csource=""}try{var s=S.rprm.getCookie("rprm_tracepid");-1!==r.indexOf("tracepromotionid=")?s=r.slice(r.indexOf("tracepromotionid=")+17):n&&-1!==n.indexOf("tracepromotionid=")&&(s=n.slice(n.indexOf("tracepromotionid=")+17)),S.rprm.tracepid=o(s,"tracepid",new Date(Date.now()+288e5).toGMTString())}catch(e){S.rprm.tracepid=""}try{S.rprm.cuid=S.rprm.getCookie("rprm_cuid"),S.rprm.cuid&&15===S.rprm.cuid.length||(S.rprm.cuid=Date.now().toString()+parseInt(10*Math.random()).toString()+parseInt(10*Math.random()).toString()),document.cookie="rprm_cuid="+S.rprm.cuid+";domain="+T+";path=/;expires="+new Date((new Date).setYear((new Date).getYear()+1905)).toGMTString()}catch(e){S.rprm.cuid=Date.now()+"00"}try{var c=S.rprm.getCookie("rprm_gdtvid");-1!==r.indexOf("qz_gdt=")?(c=r.slice(r.indexOf("qz_gdt=")+7),document.cookie="rprm_channeltype=2;domain="+T+";path=/"):-1!==r.indexOf("gdt_vid=")?(c=r.slice(r.indexOf("gdt_vid=")+8),document.cookie="rprm_channeltype=0;domain="+T+";path=/"):n&&(-1!==n.indexOf("qz_gdt=")?(c=n.slice(n.indexOf("qz_gdt=")+7),document.cookie="rprm_channeltype=2;domain="+T+";path=/"):-1!==n.indexOf("gdt_vid=")&&(c=n.slice(n.indexOf("gdt_vid=")+8),document.cookie="rprm_channeltype=0;domain="+T+";path=/")),S.rprm.gdtvid=o(c,"gdtvid")}catch(e){S.rprm.gdtvid=!1}}(window||global||self||{}),"function"==typeof define&&define.amd?define(function(){return rprm}):"undefined"!=typeof module&&null!=module&&(module.exports=rprm);